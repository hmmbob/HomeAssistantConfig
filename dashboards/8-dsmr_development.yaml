####################
# Dev Overview     #
####################

############################################################################################
# This file is not part of my regular setup, but still being used in development efforts.  #
# It is included just for me, so I can have a quick dev look at some items.                #
############################################################################################
path: dsmr
title: DSMR overview
icon: mdi:flash-red-eye
visible:
  - user: 510b1afef60640d7a220711c50b2192a # BL
cards:
  - id: 2e8c923b-488d-4dfd-9068-dc89caab19f7 # Automatically created id
    type: custom:auto-entities
    card:
      type: entities
      title: All DSMR GAS entities
      show_header_toggle: false
    filter:
      include:
        - entity_id: sensor.dsmr_*gas*
        - entity_id: sensor.dsmr_reading_extra_device_delivered
    sort:
      method: name
  - id: e36d7dcd-0b7d-4829-bdd2-fd3131a367c6 # Automatically created id
    type: custom:auto-entities
    card:
      type: entities
      title: All DSMR Electricity entities
      show_header_toggle: false
    filter:
      include:
        - entity_id: sensor.dsmr_*electricity*
        - entity_id: sensor.dsmr_*l1*
        - entity_id: sensor.dsmr_*l2*
        - entity_id: sensor.dsmr_*l3*
        - entity_id: sensor.dsmr_meter_stats_long_power_failure_count
        - entity_id: sensor.dsmr_meter_stats_power_failure_count
    sort:
      method: name
  - id: 26c84972-107a-458b-9d70-e7215a65c73d # Automatically created id
    type: custom:auto-entities
    card:
      type: entities
      title: All other DSMR entities
      show_header_toggle: false
    filter:
      include:
        - entity_id: sensor.dsmr_*
      exclude:
        - entity_id: sensor.dsmr_*gas*
        - entity_id: sensor.dsmr_reading_extra_device_delivered
        - entity_id: sensor.dsmr_*electricity*
        - entity_id: sensor.dsmr_*l1*
        - entity_id: sensor.dsmr_*l2*
        - entity_id: sensor.dsmr_*l3*
        - entity_id: sensor.dsmr_meter_stats_long_power_failure_count
        - entity_id: sensor.dsmr_meter_stats_power_failure_count
    sort:
      method: name

  - type: markdown ## Meterstanden header
    content: |
      # Meterstanden
    card_mod:
      style:
        .: |
          ha-card {
            margin: 12px 14px -5px 14px;
            box-shadow: none;
            --ha-card-background: rgba(0, 0, 0, 0.0)
          }
        ha-markdown$: |
          h1 { 
            font-size: 18px !important;
            font-weight: 400 !important;
            padding-left: 10px !important;
            border-left: 3px solid rgba(81, 134, 236);
            }
  - type: entities
    card_mod:
      style: |
        ha-card {
        margin: 0px 14px -5px 14px;
        }
    entities:
      - type: custom:fold-entity-row
        head:
          entity: sensor.dsmr_reading_electricity_currently_delivered
          name: "Huidig verbruik gecombineerd"
          icon: mdi:power-plug
        entities:
          - type: custom:multiple-entity-row
            entity: sensor.dsmr_reading_phase_currently_delivered_l1
            icon: mdi:current-ac
            show_state: true
            state_header: "L1 Verbruik"
            name: "Fase L1"
            entities:
              - entity: sensor.dsmr_reading_phase_voltage_l1
                name: "L1 Voltage"
                format: precision0
              - entity: sensor.dsmr_reading_phase_power_current_l1
                name: "L1 Stroom"
          - type: custom:multiple-entity-row
            entity: sensor.dsmr_reading_phase_currently_delivered_l2
            icon: mdi:current-ac
            show_state: true
            state_header: "L2 Verbruik"
            name: "Fase L2"
            entities:
              - entity: sensor.dsmr_reading_phase_voltage_l2
                name: "L2 Voltage"
                format: precision0
              - entity: sensor.dsmr_reading_phase_power_current_l2
                name: "L2 Stroom"
          - type: custom:multiple-entity-row
            entity: sensor.dsmr_reading_phase_currently_delivered_l3
            icon: mdi:current-ac
            show_state: true
            state_header: "L3 Verbruik"
            name: "Fase L3"
            entities:
              - entity: sensor.dsmr_reading_phase_voltage_l3
                name: "L3 Voltage"
                format: precision0
              - entity: sensor.dsmr_reading_phase_power_current_l3
                name: "L3 Stroom"
          - type: custom:multiple-entity-row
            entity: sensor.dsmr_reading_electricity_currently_delivered
            show_state: false
            name: "Electriciteitsmeter"
            entities:
              - entity: sensor.dsmr_reading_electricity_delivered_2
                name: "Hoog tarief"
                format: precision1
              - entity: sensor.dsmr_reading_electricity_delivered_1
                name: "Laag tarief"
                format: precision1
              - entity: sensor.dsmr_meter_stats_electricity_tariff
                name: "Actief"
          - type: custom:multiple-entity-row
            entity: sensor.dsmr_consumption_gas_currently_delivered
            show_state: false
            name: "Gasmeter"
            entities:
              - entity: sensor.dsmr_consumption_gas_currently_delivered
                name: "Verbruik"
                format: precision1
              - entity: sensor.dsmr_consumption_gas_delivered
                name: "Meterstand"
                format: precision1
