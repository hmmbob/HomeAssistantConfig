aquarium_package:
  input_datetime:
    time_aquarium_on:
      name: Aquarium aan
      has_time: true
    time_aquarium_on_weekend:
      name: Aquarium aan weekend
      has_time: true
    time_aquarium_off:
      name: Aquarium uit
      has_time: true

  automation:
    - id: aquarium_turn_on_time
      alias: "Lights: Aquarium turn on"
      trigger:
        - platform: time
          at: input_datetime.time_aquarium_on
          id: weekday
        - platform: time
          at: input_datetime.time_aquarium_on_weekend
          id: weekend
      condition:
        # one of these needs to be true to continue
        or:
          - and:
              - "{{ trigger.id == 'weekday' }}"
              - "{{ is_state('binary_sensor.schooldag', 'on') }}"
          - and:
              - "{{ trigger.id == 'weekend' }}"
              - "{{ is_state('binary_sensor.schooldag', 'off') }}"
      action:
        - service: homeassistant.turn_on
          entity_id: switch.aquarium

    - id: aquarium_turn_off_time
      alias: "Lights: Aquarium turn off"
      trigger:
        platform: time
        at: input_datetime.time_aquarium_off
      action:
        - service: homeassistant.turn_off
          entity_id: switch.aquarium
