attic_cover_package:
  input_boolean:
    enable_cover:
      name: Rolluik automatisering
      icon: mdi:garage

  input_datetime:
    time_cover_up:
      name: Rolluik omhoog
      has_time: true
    time_cover_down:
      name: Rolluik omlaag
      has_time: true

  automation:
    - id: cover_close_on_time
      alias: "Rolluik: dicht"
      trigger:
        platform: time
        at: input_datetime.time_cover_down
      condition:
        - condition: state
          entity_id: input_boolean.enable_cover
          state: "on"
      action:
        - service: cover.close_cover
          entity_id: cover.zolder

    - id: cover_open_on_time
      alias: "Rolluik: open"
      trigger:
        platform: time
        at: input_datetime.time_cover_up
      condition:
        - condition: state
          entity_id: input_boolean.enable_cover
          state: "on"
      action:
        - if:
            - alias: "Check for schoolday"
              condition: state
              entity_id: binary_sensor.schooldag
              state: "off"
              # It is a day off, so let's delay opening for 1hr
          then:
            - delay: "01:00:00"
        - service: cover.open_cover
          entity_id: cover.zolder
