tts_system_package:
  ##########################
  ## Stuur een TTS-bericht op geselecteerde luidsprekers
  ##########################
  input_text:
    tts_message:
      name: Bericht
      icon: mdi:message-processing-outline
      max: 255

  input_select:
    tts_target:
      name: TTS-doel
      options:
        - Woonkamer
        - Hele huis
        - Bovenverdieping
        - Slaapkamer T
        - Zolder
        - Kantoor
      icon: mdi:cast-audio

  script:
    play_tts_message:
      alias: Speel TTS-bericht af
      description: "Speel een TTS-bericht af ingesteld in de frontend"
      icon: mdi:account-voice
      mode: single
      max_exceeded: silent
      variables:
        target_map:
          Woonkamer: media_player.nest_hub_woonkamer
          Hele huis: media_player.hele_huis
          Bovenverdieping: media_player.boven
          Slaapkamer T: media_player.slaapkamer_t
          Zolder: media_player.zolder
          Kantoor: media_player.kantoor
        target: "{{ target_map[states('input_select.tts_target')] }}"
      sequence:
        - action: tts.microsoft_say
          data:
            entity_id: "{{ target }}"
            message: "{{ states('input_text.tts_message') }}"
            cache: false
        - delay: 00:00:30
        - action: media_player.turn_off
          data:
            entity_id: "{{ target }}"
