hallway_alerts_package:
  alert:
    #############################
    ## Freezer door alert       #
    #############################
    freezer_door:
      name: "Vriezer deur"
      title: "ALARM:"
      message: "De vriezer is nog open"
      entity_id: binary_sensor.alert_freezer_door
      state: "on"
      repeat: 2
      can_acknowledge: false
      skip_first: false
      notifiers:
        - tts_woonkamer
        - mobile_devices_adults
      data:
        tag: freezer_door_alert
        ttl: 0
        channel: alerts # For devices on Android 8.0+ only
        priority: high
        ledColor: "red" # Set the LED to red
        actions:
          - action: "mute_alert_freezer"
            title: "Alert dempen"

    #############################
    ## Front door alert         #
    #############################
    front_door:
      name: "Voordeur"
      title: "ALARM:"
      message: "De voordeur is nog open"
      entity_id: binary_sensor.alert_front_door
      state: "on"
      repeat: 5
      can_acknowledge: false
      skip_first: false
      notifiers:
        - tts_woonkamer
        - mobile_devices_adults
      data:
        tag: front_door_alert
        ttl: 0
        channel: alerts # For devices on Android 8.0+ only
        priority: high
        ledColor: "red" # Set the LED to red
        actions:
          - action: "mute_alert_front_door"
            title: "Alert dempen"

  input_boolean:
    notify_door_alert:
      name: "Deur alarm"
      icon: mdi:door-open

  template:
    - binary_sensor:
        - name: "Alert Freezer Door"
          unique_id: alert_freezer_door
          delay_on: "00:05:00"
          state: >-
            {{ is_state('binary_sensor.door_sensor_1_contact', 'on')
              and is_state('input_boolean.notify_door_alert', 'on') }}
        - name: "Alert Front Door"
          unique_id: alert_front_door
          delay_on: "00:05:00"
          state: >-
            {{ is_state('binary_sensor.door_sensor_2_contact', 'on')
              and is_state('input_boolean.notify_door_alert', 'on') }}
